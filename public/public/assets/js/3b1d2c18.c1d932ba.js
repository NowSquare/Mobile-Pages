(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["3b1d2c18"],{5212:function(t,e,i){},"6c20":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[404===t.status?i("div",[i("div",{staticClass:"row items-center",style:{height:parseInt(t.$q.screen.height)+"px"}},[i("div",{staticClass:"col text-center text-h4"},[t._v("\n        Site not found\n      ")])])]):t._e(),null!==t.globals.currentPage?i("div",[i("q-layout",{staticClass:"siteBg",style:{height:t.pageHeight+"px","background-color":t.site.design.bgColor,color:t.site.design.textColor,"background-image":"url("+t.site.design.imgSiteBg+")"},attrs:{view:"lhh LpR lff",container:""}},[i("q-header",{style:{"background-color":t.site.design.headerBgColor,color:t.site.design.headerTextColor},attrs:{reveal:""}},[i("q-toolbar",[t.site.pages[0].children.length>1?i("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(e){t.drawerLeft=!t.drawerLeft}}}):t._e(),i("q-toolbar-title",[t._v(t._s(t.site.pages[0].name))])],1)],1),t.site.pages[0].children.length>1?i("q-drawer",{attrs:{width:260,breakpoint:700,"content-class":"shadow-1","content-style":{"background-color":t.site.design.drawerBgColor}},model:{value:t.drawerLeft,callback:function(e){t.drawerLeft=e},expression:"drawerLeft"}},[i("q-scroll-area",{staticClass:"fit"},[i("div",{staticClass:"q-pa-sm"},t._l(t.getPages(),function(e){return i("q-item",{key:e.uuid,style:{color:t.site.design.drawerTextColor},attrs:{active:e.uuid===t.sitePage.uuid,ripple:"",to:t.editor?null:"/"+t.site.path+"/"+e.path}},[i("q-item-section",[i("q-item-label",[t._v(t._s(e.name))])],1)],1)}),1)])],1):t._e(),i("q-page-container",[i("q-page",{staticClass:"q-pa-md",style:{"padding-top":t.pagePaddingTop+"px"}},[t.sitePage.content.settings.showTitleBar?i("q-page-sticky",{staticStyle:{"z-index":"999"},style:{"background-color":t.site.design.titleBarBgColor,color:t.site.design.titleBarTextColor},attrs:{position:"top",expand:""}},[i("q-toolbar",[i("q-toolbar-title",[t._v(t._s(t.sitePage.name))])],1)],1):t._e(),t.sitePage.content.imgAboveContent?i("q-img",{staticClass:"q-mb-md rounded-borders shadow-1",attrs:{src:t.sitePage.content.imgAboveContent,transition:"fade","spinner-color":"white"}}):t._e(),i("div",{domProps:{innerHTML:t._s(t.sitePage.content.content)}})],1)],1)],1)],1):t._e()])},n=[],s=(i("7514"),i("7f7f"),i("ac4d"),i("8a81"),i("ac6a"),{name:"MobileSite",data:function(){return{editor:!1,status:null,drawerLeft:!1,siteSlug:null,pageSlug:null,globals:{currentPage:null},site:{design:{headerBgColor:null},page:0,pages:[{name:null,children:[{name:null,content:null}]}]}}},created:function(){if(this.siteSlug=this.$route.params.siteSlug||null,this.pageSlug=this.$route.params.pageSlug||null,null!==this.siteSlug)this.$q.loading.show({delay:40}),this.loadSite();else{this.editor=!0;var t=this;this.$root.$on("site",function(e){t.site=e,this.$q.loading.hide()}),this.$root.$on("globals",function(e){t.globals=e})}},methods:{getAllPages:function(t,e){var i=!0,a=!1,n=void 0;try{for(var s,r=t[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value;e.push(l),"undefined"!==typeof l.children&&this.getAllPages(l.children,e)}}catch(o){a=!0,n=o}finally{try{i||null==r.return||r.return()}finally{if(a)throw n}}return e},getPages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=[];if(null===t){var i=!0,a=!1,n=void 0;try{for(var s,r=this.site.pages[0].children[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value;e.push(l)}}catch(o){a=!0,n=o}finally{try{i||null==r.return||r.return()}finally{if(a)throw n}}}return e},loadSite:function(){var t=this;this.$axios.get("site-by-slug",{params:{siteSlug:this.siteSlug,pageSlug:this.pageSlug}}).then(function(e){t.$q.loading.hide(),t.status=e.data.status,200===e.data.status&&(t.site=e.data,t.globals.currentPage=e.data.pageUuid,document.title=e.data.pages[0].name+" - "+t.sitePage.name)})}},watch:{"$route.params.pageSlug":function(t){var e=this.getPages();for(var i in e)if(t===e[i].path)return this.globals.currentPage=e[i].uuid,void(document.title=this.site.pages[0].name+" - "+this.sitePage.name)}},computed:{sitePage:function(){var t=this.getAllPages(this.site.pages[0].children,[]),e=this.$_.find(t,["uuid",this.globals.currentPage]);return e||null},pagePaddingTop:function(){return this.sitePage.content.settings.showTitleBar?66:15},pageHeight:function(){return this.editor?parseInt(this.$q.screen.height)-58:parseInt(this.$q.screen.height)}}}),r=s,l=(i("bf30"),i("2877")),o=Object(l["a"])(r,a,n,!1,null,null,null);e["default"]=o.exports},ac4d:function(t,e,i){i("3a72")("asyncIterator")},bf30:function(t,e,i){"use strict";var a=i("5212"),n=i.n(a);n.a}}]);