(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d238a0b"],{ffd9:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"fit row justify-center q-pa-lg bg-blue-8"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"fit self-center"},[a("q-card",{staticClass:"no-border-radius bg-grey-1 text-grey-10 full-width",attrs:{flat:""}},[a("q-card-section",{staticClass:"bg-blue-grey-1"},[a("div",{staticClass:"row items-center no-wrap"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-h5"},[e._v("Create a new site")])])]),e.errorMsg?a("q-banner",{staticClass:"bg-red text-white q-mt-lg",scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"warning",color:"white"}})]},proxy:!0}],null,!1,894313219)},[e._v("\n            "+e._s(e.errorMsg)+"\n          ")]):e._e(),e.successMsg?a("q-banner",{staticClass:"bg-blue text-white q-mt-lg",scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"check",color:"white"}})]},proxy:!0}],null,!1,1726514831)},[e._v("\n            "+e._s(e.successMsg)+"\n          ")]):e._e()],1),a("q-separator"),a("q-form",{ref:"frm1",attrs:{id:"frm1",autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false","accept-charset":"UTF-8",enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.onSubmit(t)}}},[a("q-card-section",[a("q-input",{staticClass:"q-mb-sm",attrs:{name:"name",error:e.form.name.error,"error-message":e.form.name.errorMsg,label:e.$t("name"),autofocus:""},on:{keyup:function(t){return e.resetValidation(t)}},model:{value:e.form.name.value,callback:function(t){e.$set(e.form.name,"value",t)},expression:"form.name.value"}}),a("q-select",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"q-mb-lg",attrs:{name:"module",label:"Homepage type",options:e.modules,"use-input":"","hide-selected":"","fill-input":""},model:{value:e.form.module.value,callback:function(t){e.$set(e.form.module,"value",t)},expression:"form.module.value"}})],1),a("q-card-actions",{staticClass:"q-pa-md"},[a("q-btn",{staticClass:"no-border-radius shadow-0",staticStyle:{"min-width":"200px"},attrs:{type:"submit",loading:e.loading,color:"green",size:"lg"}},[e._v("Create site")])],1)],1)],1)],1)])])},s=[],n=(a("ac6a"),a("cadf"),a("456d"),a("551c"),a("06db"),a("097d"),a("7f7f"),{name:"Page",components:{},data:function(){return{loading:!1,successMsg:null,errorMsg:null,modules:[{label:"Content",value:"content"}],form:{name:{value:"",error:!1,errorMsg:null},module:{value:{label:"Content",value:"content"},error:!1,errorMsg:null}}}},mounted:function(){},methods:{onSubmit:function(){var e=this;this.loading=!0;var t=new FormData;t.append("locale",this.$i18n.locale),t.append("name",this.form.name.value),t.append("module",this.form.module.value.value),this.$axios.post("site/create-site",t).then(function(t){"success"===t.data.status&&("undefined"!==typeof t.data.msg&&e.$q.notify({icon:"success"===t.data.status?"done":"error",position:"bottom-left",message:t.data.msg}),e.$router.push({name:"site.edit",params:{uuid:t.data.uuid}}))}).catch(function(t){var a=t.response.data;if("undefined"!==typeof a.msg&&(e.errorMsg=a.msg),"undefined"!==typeof a.errors){var r=Object.keys(a.errors)[0],s="undefined"!==typeof e.$refs[r]?e.$refs[r]:null,n=null!==s?s.$parent.name:null;for(var o in e.pageTab=n,a.errors)e.form[o].error=!0,e.form[o].errorMsg=a.errors[o][0]}}).finally(function(){e.loading=!1})},resetValidation:function(e){"undefined"!==typeof e.target.name&&(this.form[e.target.name].error=!1)}},computed:{}}),o=n,l=a("2877"),i=Object(l["a"])(o,r,s,!1,null,null,null);t["default"]=i.exports}}]);