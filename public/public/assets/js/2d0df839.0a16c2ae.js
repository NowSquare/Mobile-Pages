(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0df839"],{"89df":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("q-page",{staticClass:"fit row justify-center q-pa-lg bg-blue-8"},[t("div",{staticClass:"col-12 col-sm-4 col-lg-3 col-xl-2 self-center",staticStyle:{"min-width":"380px"}},[t("div",{staticClass:"fit self-center shadow-22"},[t("q-card",{staticClass:"no-border-radius bg-grey-1 text-grey-10 full-width",attrs:{flat:""}},[t("q-card-section",[t("div",{staticClass:"row items-center no-wrap"},[t("div",{staticClass:"col"},[t("div",{staticClass:"text-h5"},[e._v("Log in")])])]),e.errorMsg?t("q-banner",{staticClass:"bg-red text-white q-mt-lg",scopedSlots:e._u([{key:"avatar",fn:function(){return[t("q-icon",{attrs:{name:"warning",color:"white"}})]},proxy:!0}],null,!1,894313219)},[e._v("\n            "+e._s(e.errorMsg)+"\n          ")]):e._e(),e.successMsg?t("q-banner",{staticClass:"bg-blue text-white q-mt-lg",scopedSlots:e._u([{key:"avatar",fn:function(){return[t("q-icon",{attrs:{name:"check",color:"white"}})]},proxy:!0}],null,!1,1726514831)},[e._v("\n            "+e._s(e.successMsg)+"\n          ")]):e._e()],1),t("q-form",{ref:"frm",attrs:{autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"},on:{submit:function(r){return r.preventDefault(),r.stopPropagation(),e.onSubmit(r)}}},[t("q-card-section",[t("q-input",{staticClass:"q-mb-sm",attrs:{name:"email",error:e.form.email.error,"error-message":e.form.email.errorMsg,type:"email",label:"E-mail address"},on:{keyup:function(r){return e.resetValidation(r)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"mdi-at"}})]},proxy:!0}]),model:{value:e.form.email.value,callback:function(r){e.$set(e.form.email,"value",r)},expression:"form.email.value"}}),t("q-input",{staticClass:"q-mb-sm",attrs:{name:"password",error:e.form.password.error,"error-message":e.form.password.errorMsg,type:"password",label:"Password"},on:{keyup:function(r){return e.resetValidation(r)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"mdi-key-variant"}})]},proxy:!0},{key:"append",fn:function(){return[t("q-btn",{attrs:{flat:"","no-caps":"",to:{name:"home"}}},[e._v("Forgot password?")])]},proxy:!0}]),model:{value:e.form.password.value,callback:function(r){e.$set(e.form.password,"value",r)},expression:"form.password.value"}}),t("q-checkbox",{attrs:{label:"Keep me logged in",color:"blue-grey-8"},model:{value:e.form.remember,callback:function(r){e.$set(e.form,"remember",r)},expression:"form.remember"}})],1),t("q-card-actions",[t("q-btn",{staticClass:"full-width no-border-radius shadow-0",attrs:{type:"submit",loading:e.loading,color:"green",size:"lg"}},[e._v("Login")])],1)],1)],1)],1),t("q-card-actions",{staticClass:"q-pa-none q-pt-md"},[t("q-space"),t("q-btn",{attrs:{flat:"","no-caps":"",color:"white"}},[e._v("Create a new account")])],1)],1)])},o=[],a=(t("7f7f"),{name:"Page",components:{},data:function(){return{loading:!1,successMsg:null,errorMsg:null,form:{email:{value:null,error:!1,errorMsg:null},password:{value:null,error:!1,errorMsg:null},remember:!0}}},mounted:function(){},watch:{},methods:{onSubmit:function(){this.loading=!0,this.$auth.login({rememberMe:this.form.remember,fetchUser:!0,params:{locale:this.$i18n.locale,email:this.form.email.value,password:this.form.password.value,remember:this.form.remember},success:function(e){this.$q.notify({icon:"done",message:"Login successful"});var r="edit";switch(parseInt(this.$auth.user().role)){case 2:r="edit";break}this.$router.push({name:r})},error:function(e){var r=e.response.data;if("undefined"!==typeof r.error&&(this.errorMsg=r.error),"undefined"!==typeof r.errors)for(var t in r.errors)this.form[t].error=!0,this.form[t].errorMsg=r.errors[t][0];this.loading=!1}})},resetValidation:function(e){"undefined"!==typeof e.target.name&&(this.form[e.target.name].error=!1)}},computed:{}}),n=a,i=t("2877"),l=Object(i["a"])(n,s,o,!1,null,null,null);r["default"]=l.exports}}]);