(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["3b1d2c18"],{5212:function(t,e,a){},"6c20":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[404===t.status?a("div",[a("div",{staticClass:"row items-center",style:{height:parseInt(t.$q.screen.height)+"px"}},[a("div",{staticClass:"col text-center text-h4"},[t._v("\n        Site not found\n      ")])])]):t._e(),null!==t.globals.currentPage?a("div",[a("q-layout",{staticClass:"siteBg",style:{height:t.pageHeight+"px","background-color":t.site.design.bgColor,color:t.site.design.textColor,"background-image":"url("+t.site.design.imgSiteBg+")"},attrs:{view:"lhh LpR lff",container:""}},[a("q-header",{style:{"background-color":t.site.design.headerBgColor,color:t.site.design.headerTextColor},attrs:{reveal:""}},[a("q-toolbar",[t.site.pages[0].children.length>1?a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(e){t.drawerLeft=!t.drawerLeft}}}):t._e(),a("q-toolbar-title",[t._v(t._s(t.site.pages[0].name))])],1)],1),t.site.pages[0].children.length>1?a("q-drawer",{attrs:{width:260,breakpoint:700,"content-class":"shadow-1","content-style":{"background-color":t.site.design.drawerBgColor}},model:{value:t.drawerLeft,callback:function(e){t.drawerLeft=e},expression:"drawerLeft"}},[a("q-scroll-area",{staticClass:"fit"},[a("div",{staticClass:"q-pa-sm"},t._l(t.getPages(),function(e){return a("q-item",{key:e.id,style:{color:t.site.design.drawerTextColor},attrs:{clickable:"",to:t.editor?null:"/"+t.site.path+"/"+e.path}},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.name))])],1)],1)}),1)])],1):t._e(),a("q-page-container",[a("q-page",{staticClass:"q-pa-md",style:{"padding-top":t.pagePaddingTop+"px"}},[t.sitePage.content.settings.showTitleBar?a("q-page-sticky",{staticStyle:{"z-index":"999"},style:{"background-color":t.site.design.titleBarBgColor,color:t.site.design.titleBarTextColor},attrs:{position:"top",expand:""}},[a("q-toolbar",[a("q-toolbar-title",[t._v(t._s(t.sitePage.name))])],1)],1):t._e(),t.sitePage.content.imgAboveContent?a("q-img",{staticClass:"q-mb-md rounded-borders shadow-1",attrs:{src:t.sitePage.content.imgAboveContent,transition:"fade","spinner-color":"white"}}):t._e(),a("div",{domProps:{innerHTML:t._s(t.sitePage.content.content)}})],1)],1)],1)],1):t._e()])},n=[],s=(a("7514"),a("7f7f"),a("ac4d"),a("8a81"),a("ac6a"),{name:"MobileSite",data:function(){return{editor:!1,status:null,drawerLeft:!1,siteSlug:null,pageSlug:null,globals:{currentPage:null},site:{design:{headerBgColor:null},page:0,pages:[{name:null,children:[{name:null,content:null}]}]}}},created:function(){if(this.siteSlug=this.$route.params.siteSlug||null,this.pageSlug=this.$route.params.pageSlug||null,console.log(this.pageSlug),null!==this.siteSlug)this.$q.loading.show({delay:40}),this.loadSite();else{this.editor=!0;var t=this;this.$root.$on("site",function(e){t.site=e,this.$q.loading.hide()}),this.$root.$on("globals",function(e){t.globals=e})}},methods:{getAllPages:function(t,e){var a=!0,i=!1,n=void 0;try{for(var s,r=t[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var l=s.value;e.push(l),"undefined"!==typeof l.children&&this.getAllPages(l.children,e)}}catch(o){i=!0,n=o}finally{try{a||null==r.return||r.return()}finally{if(i)throw n}}return e},getPages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=[];if(null===t){var a=!0,i=!1,n=void 0;try{for(var s,r=this.site.pages[0].children[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var l=s.value;e.push(l)}}catch(o){i=!0,n=o}finally{try{a||null==r.return||r.return()}finally{if(i)throw n}}}return e},loadSite:function(){var t=this;this.$axios.get("site-by-slug",{params:{siteSlug:this.siteSlug,pageSlug:this.pageSlug}}).then(function(e){t.$q.loading.hide(),t.status=e.data.status,200===e.data.status&&(t.site=e.data,document.title=e.data.pages[0].name,t.globals.currentPage=e.data.pageUuid)})}},watch:{"$route.params.pageSlug":function(t){var e=this.getPages();for(var a in e)if(t===e[a].path)return void(this.globals.currentPage=e[a].uuid)}},computed:{sitePage:function(){var t=this.getAllPages(this.site.pages[0].children,[]),e=this.$_.find(t,["uuid",this.globals.currentPage]);return e||null},pagePaddingTop:function(){return this.sitePage.content.settings.showTitleBar?66:15},pageHeight:function(){return this.editor?parseInt(this.$q.screen.height)-58:parseInt(this.$q.screen.height)}}}),r=s,l=(a("bf30"),a("2877")),o=Object(l["a"])(r,i,n,!1,null,null,null);e["default"]=o.exports},ac4d:function(t,e,a){a("3a72")("asyncIterator")},bf30:function(t,e,a){"use strict";var i=a("5212"),n=a.n(i);n.a}}]);